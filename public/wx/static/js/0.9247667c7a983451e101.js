webpackJsonp([0,7],[,function(t,e,o){!function(e,o){t.exports=o()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(4)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{show:{type:Boolean,"default":!1},time:{type:Number,"default":2e3},type:{type:String,"default":"success"},transition:{type:String,"default":"vux-fade"},width:{type:String,"default":"7.6em"}},computed:{toastClass:function(){return{weui_toast_forbidden:"warn"===this.type,weui_toast_cancel:"cancel"===this.type,weui_toast_success:"success"===this.type,weui_toast_text:"text"===this.type}}},watch:{show:function(t){var e=this;t&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1},this.time))}}}},function(t,e){},function(t,e){t.exports='<div v-show=show class=vux-toast :transition=transition> <div class=weui_mask_transparent></div> <div class=weui_toast :style="{width: width}" :class=toastClass> <i class=weui_icon_toast v-show="type !== \'text\'"></i> <p class=weui_toast_content><slot></slot></p> </div> </div>'},function(t,e,o){var n,r;o(2),n=o(1),r=o(3),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}])})},function(t,e,o){!function(e,o){t.exports=o()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(4)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},function(t,e){},function(t,e){t.exports="<div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>"},function(t,e,o){var n,r;o(2),n=o(1),r=o(3),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}])})},,,function(t,e,o){!function(e,o){t.exports=o()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){t.exports=o(3)},function(t,e){},function(t,e){t.exports="<p class=vux-divider> <slot></slot> </p>"},function(t,e,o){var n,r;o(1),r=o(2),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}])})},function(t,e,o){var n,r;o(31),n=o(14),r=o(45),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={domain:"http://ruzun.jiancan.me",apiPath:"/api/v1"}},,function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t=t.json(),"string"==typeof t&&(t=JSON.parse(t),console.log("判断string")),console.log(t),t}function i(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.res=t,e.type="http",e}function s(t,e){var o=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return t=y+t,e&&(t+="?"+h["default"].stringify(e)),fetch(t,{headers:{Authorization:o}}).then(i).then(r)}function a(t,e){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=arguments.length<=3||void 0===arguments[3]?"":arguments[3];return t=y+t,fetch(t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:n},body:(0,d["default"])(o)}).then(i).then(r)}function u(t,e){var o=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return a(t,"POST",e,o)}function c(t,e){var o=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return a(t,"PUT",e,o)}function l(t,e){var o=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return a(t,"PATCH",e,o)}function p(t){return a(t,"DELETE")}Object.defineProperty(e,"__esModule",{value:!0});var f=o(20),d=n(f);e.get=s,e.post=u,e.put=c,e.patch=l,e.del=p;var v=o(39),h=n(v),_=o(7),x=n(_),y=x["default"].domain+x["default"].apiPath},function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}function r(t){return u.post("/users",t)}function i(t,e){return u.put("/users/"+t,e)}function s(t){return u.post("/sessions",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.createUser=r,e.updateUser=i,e.signIn=s;var a=o(9),u=n(a)},,,,function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(2),s=r(i),a=o(5),u=r(a),c=o(1),l=r(c),p=o(10),f=n(p);e["default"]={data:function(){return{mobile:"",password:"",loginFail:!1}},route:{data:function(t){var e=localStorage.getItem("ruzun_user_token");e&&null!==e&&this.$route.router.go({name:"home"})}},methods:{signIn:function(){var t=this;return""===this.mobile&&""===this.password?void this.$set("loginFail",!0):void f.signIn({mobile:this.mobile,password:this.password}).then(function(e){console.log(e),"string"==typeof e&&(e=JSON.parse(e),console.log("外层判断string")),console.log(e),localStorage.setItem("ruzun_user_token",e.user.token),localStorage.setItem("ruzun_user_id",e.user.id),t.$route.router.go({name:"home"})})["catch"](function(e){console.log(e),t.$set("loginFail",!0)})}},components:{XHeader:s["default"],Divider:u["default"],Toast:l["default"]}}},,,,,,function(t,e,o){t.exports={"default":o(21),__esModule:!0}},function(t,e,o){var n=o(22),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e){var o=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=o)},function(t,e,o){e=t.exports=o(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"signin.vue",sourceRoot:"webpack://"}])},,,,,,,,function(t,e,o){var n=o(23);"string"==typeof n&&(n=[[t.id,n,""]]);o(4)(n,{});n.locals&&(t.exports=n.locals)},,,,,,,,function(t,e,o){"use strict";function n(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}var r=o(41),i=o(40);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){var e=Object.create(null);return"string"!=typeof t?e:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var o=t.replace(/\+/g," ").split("="),n=o.shift(),r=o.length>0?o.join("="):void 0;n=decodeURIComponent(n),r=void 0===r?null:decodeURIComponent(r),void 0===e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]}),e):e},e.stringify=function(t,e){var o={encode:!0,strict:!0};return e=i(o,e),t?Object.keys(t).sort().map(function(o){var r=t[o];if(void 0===r)return"";if(null===r)return n(o,e);if(Array.isArray(r)){var i=[];return r.slice().forEach(function(t){void 0!==t&&(null===t?i.push(n(o,e)):i.push(n(o,e)+"="+n(t,e)))}),i.join("&")}return n(o,e)+"="+n(r,e)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e){"use strict";function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},o=0;o<10;o++)e["_"+String.fromCharCode(o)]=o;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t,e){for(var n,s,a=o(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)r.call(n,c)&&(a[c]=n[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(n);for(var l=0;l<s.length;l++)i.call(n,s[l])&&(a[s[l]]=n[s[l]])}}return a}},function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},,,,function(t,e){t.exports=' <x-header> 登录 </x-header> <div class="weui_cells weui_cells_form"> <div class=weui_cell> <div class=weui_cell_hd style=width:5%> <label class=weui_label> <i class="fa fa-mobile"></i> </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=text placeholder=手机号码 v-model=mobile /> </div> </div> <div class=weui_cell> <div class=weui_cell_hd style=width:5%> <label class=weui_label> <i class="fa fa-lock"></i> </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=password placeholder=密码 v-model=password /> </div> </div> </div> <div class=button_sp_area style="margin-top:30px;padding: 10px"> <a @click=signIn href=javascript:; class="weui_btn weui_btn_plain_primary">登 录</a> </div> <divider>没账号?</divider> <div class=button_sp_area style="margin-top:5px;padding: 10px"> <a v-link="{ name: \'signup\' }" class="weui_btn weui_btn_plain_primary">注 册</a> </div> <toast :show.sync=loginFail type=text>登录失败</toast> '}]);
//# sourceMappingURL=0.9247667c7a983451e101.js.map
webpackJsonp([12,17],{1:function(e,t,o){!function(t,o){e.exports=o()}(this,function(){return function(e){function t(s){if(o[s])return o[s].exports;var i=o[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){e.exports=o(4)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},function(e,t){},function(e,t){e.exports="<div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>"},function(e,t,o){var s,i;o(2),s=o(1),i=o(3),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)}])})},6:function(e,t,o){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function i(){return p.get("/teams")}function a(e){return p.get("/teams/"+e)}function n(e,t){return p.post("/teams",e,t)}function r(e,t,o){return p.put("/teams/"+e,t,o)}function c(e,t,o){return p.get("/wechat/get_team_logo_from_wechat",{team_id:e,media_id:t},o)}function u(e,t){return p.del("/teams/"+e,{},t)}function l(e){return p.get("/teams/"+e+"/playeds")}Object.defineProperty(t,"__esModule",{value:!0}),t.getTeams=i,t.getTeam=a,t.createTeam=n,t.updateTeam=r,t.updateLogo=c,t.deleteTeam=u,t.getTeamPlayeds=l;var d=o(5),p=s(d)},52:function(e,t,o){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(20),n=i(a),r=o(1),c=i(r),u=o(6),l=s(u),d=o(4);t["default"]={vuex:{getters:{isLogged:function(e){return e.users.isLogged},token:function(e){return e.users.token},user:function(e){return e.users.user}},actions:{showToast:d.showToast}},data:function(){return{team:{}}},route:{data:function(e){var t=this;l.getTeam(this.$route.params.tid).then(function(e){t.$set("team",e.team)})["catch"](function(e){t.showToast(e)})}},methods:{update:function(){var e=this;return""===this.name?void this.showToast("名称不能为空！"):this.isLogged?void l.updateTeam(this.team.id,{team:this.team},this.token).then(function(t){e.$set("team",t.team),self.showToast("更新成功！")})["catch"](function(t){e.showToast(t)}):void this.$route.router.go({name:"signin"})},chooseImage:function(){if(!this.isLogged)return void this.$route.router.go({name:"signin"});var e=this;window.wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var o=t.localIds.toString();window.wx.uploadImage({localId:o,success:function(t){l.updateLogo(e.team.id,t.serverId,e.token).then(function(t){e.$set("team.logo",t.logo),e.showToast("上传成功！")})["catch"](function(t){e.showToast(t)})},fail:function(e){alert((0,n["default"])(e))}})}})}},components:{XHeader:c["default"]}}},77:function(e,t,o){t=e.exports=o(2)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"edit.vue",sourceRoot:"webpack://"}])},93:function(e,t,o){var s=o(77);"string"==typeof s&&(s=[[e.id,s,""]]);o(3)(s,{});s.locals&&(e.exports=s.locals)},124:function(e,t){e.exports=' <x-header> 编辑队伍 </x-header> <div class=team_logo> <div class=logo> <img :src=team.logo alt="" @click=chooseImage /> </div> </div> <div class="weui_cells weui_cells_form"> <div class=weui_cell> <div class=weui_cell_hd style=width:5%> <label class=weui_label> <i class="fa fa-at"></i> </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=text placeholder=队伍名称 v-model=team.name /> </div> </div> <div class=weui_cell> <div class=weui_cell_hd style=width:5%> <label class=weui_label> <i class="fa fa-tag"></i> </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=text placeholder=队伍简介 v-model=team.sign /> </div> </div> </div> <div class=button_sp_area style="margin-top:30px;padding: 10px"> <a @click=update href=javascript:; class="weui_btn weui_btn_plain_primary">保 存</a> </div> '},141:function(e,t,o){var s,i;o(93),s=o(52),i=o(124),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=i)}});
//# sourceMappingURL=12.39c8090e07f254aed0fd.js.map
{"version":3,"sources":["webpack:///static/js/app.e840411567999fa77f05.js","webpack:///./src/main.js","webpack:///./src/vuex/actions.js","webpack:///./src/services/request.js","webpack:///./src/services/userService.js","webpack:///./src/vuex/mutation-types.js","webpack:///./src/vuex/store.js","webpack:///./src/configs/index.js","webpack:///./src/routers.js","webpack:///./src/vue-config.js","webpack:///./src/vuex/modules/users.js","webpack:///./src/wx-api.js","webpack:///main.vue","webpack:///./src/main.vue?3a0b","webpack:///./src/main.vue"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_vueRouter","_vueRouter2","_vueResource","_vueResource2","_vueLazyload","_vueLazyload2","_fastclick","_fastclick2","_routers","_routers2","_vueConfig","_vueConfig2","_vuexRouterSync","_store","_store2","_wxApi","_wxApi2","config","debug","configs","API","use","error","loading","try","router","beforeEach","transition","to","auth","token","localStorage","getItem","redirect","attach","document","body","next","main","extend","sync","init","start","5","_interopRequireWildcard","newObj","key","Object","prototype","hasOwnProperty","call","defineProperty","value","setAuthorized","setCurrentUser","signout","signin","hideToast","showToast","undefined","_mutationTypes","types","_ref","toast","dispatch","SHOW_TOAST","_ref2","HIDE_TOAST","_ref3","user","SIGN_IN","_ref4","SIGN_OUT","_ref5","SET_CURRENT_USER","_ref6","SET_AUTHORIZED","6","filterJSON","res","json","filterStatus","status","Error","type","_error","statusText","authorization","get","url","params","arguments","length","urlPrefix","_queryString2","stringify","fetch","headers","Authorization","then","_post","method","Accept","Content-Type","_stringify2","post","put","patch","del","_stringify","_queryString","_configs","_configs2","domain","apiPath","17","getUser","uid","requestService","getCurrentUser","getSundry","createUser","updateUser","updateAvatar","sid","user_id","media_id","signIn","_request","20","ROUTE_CHANGED","27","_mutations","_defineProperty2","_defineProperty3","_vuex","_vuex2","_logger","_logger2","_users","_users2","state","show","message","time","mutations","Store","modules","users","strict","middlewares","35","36","map","*","component","resolve","e","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","this","/","name","/home","/signin","/signup","/users/:uid/edit/","/personal","/teams","/teams/:tid","/teams/new","/teams/:tid/edit","/teams/:tid/playeds","/teams/:tid/users","/games","/games/:gid","/games/:gid/constitution","/games/:gid/playeds","/games/:gid/points","/playeds/:pid/techstats","/playeds/:pid/analyze","/discover","40","Vue","mixin","created","$config","41","isLogged","setItem","removeItem","42","http","location","href","split","data","JSON","parse","window","wx","appId","timestamp","nonceStr","signature","jsApiList","43","_toast","_toast2","_actions","_userService","userService","store","vuex","getters","actions","computed","set","val","components","Toast","_this","responseJson","console","log","93","121","142","__vue_script__","__vue_template__","options","template"],"mappings":"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","file":"static/js/app.e840411567999fa77f05.js","sourcesContent":["webpackJsonp([21,19],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(34);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(161);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _vueResource = __webpack_require__(160);\n\t\n\tvar _vueResource2 = _interopRequireDefault(_vueResource);\n\t\n\tvar _vueLazyload = __webpack_require__(141);\n\t\n\tvar _vueLazyload2 = _interopRequireDefault(_vueLazyload);\n\t\n\tvar _fastclick = __webpack_require__(111);\n\t\n\tvar _fastclick2 = _interopRequireDefault(_fastclick);\n\t\n\tvar _routers = __webpack_require__(36);\n\t\n\tvar _routers2 = _interopRequireDefault(_routers);\n\t\n\tvar _vueConfig = __webpack_require__(40);\n\t\n\tvar _vueConfig2 = _interopRequireDefault(_vueConfig);\n\t\n\tvar _vuexRouterSync = __webpack_require__(162);\n\t\n\tvar _store = __webpack_require__(27);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _wxApi = __webpack_require__(42);\n\t\n\tvar _wxApi2 = _interopRequireDefault(_wxApi);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.config.debug = true;\n\t\n\tvar configs = {\n\t  API:  true ? 'http://ruzun.jiancan.me/api/v1' : 'http://ruzun.jiancan.me/api/v1'\n\t};\n\t\n\t_vue2.default.use(_vueResource2.default);\n\t_vue2.default.use(_vueRouter2.default);\n\t_vue2.default.use(_vueConfig2.default, configs);\n\t_vue2.default.use(_vueLazyload2.default, {\n\t  error: '',\n\t  loading: '',\n\t  try: 3\n\t});\n\t\n\tvar router = new _vueRouter2.default({});\n\t\n\trouter.beforeEach(function (transition) {\n\t  if (transition.to.auth) {\n\t    var token = localStorage.getItem('ruzun_user_token');\n\t    if (!token || token === null) {\n\t      transition.redirect('/signin');\n\t    }\n\t  }\n\t  _fastclick2.default.attach(document.body);\n\t  transition.next();\n\t});\n\t\n\tvar main = _vue2.default.extend(__webpack_require__(142));\n\t\n\t(0, _routers2.default)(router);\n\t\n\t(0, _vuexRouterSync.sync)(_store2.default, router);\n\t\n\t_wxApi2.default.init(_vue2.default);\n\t\n\trouter.start(main, '#app');\n\n/***/ },\n\n/***/ 5:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.setAuthorized = exports.setCurrentUser = exports.signout = exports.signin = exports.hideToast = exports.showToast = undefined;\n\t\n\tvar _mutationTypes = __webpack_require__(20);\n\t\n\tvar types = _interopRequireWildcard(_mutationTypes);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tvar showToast = exports.showToast = function showToast(_ref, toast) {\n\t  var dispatch = _ref.dispatch;\n\t\n\t  dispatch(types.SHOW_TOAST, toast);\n\t};\n\t\n\tvar hideToast = exports.hideToast = function hideToast(_ref2) {\n\t  var dispatch = _ref2.dispatch;\n\t\n\t  dispatch(types.HIDE_TOAST);\n\t};\n\t\n\tvar signin = exports.signin = function signin(_ref3, user) {\n\t  var dispatch = _ref3.dispatch;\n\t\n\t  dispatch(types.SIGN_IN, user);\n\t};\n\t\n\tvar signout = exports.signout = function signout(_ref4) {\n\t  var dispatch = _ref4.dispatch;\n\t\n\t  dispatch(types.SIGN_OUT);\n\t};\n\t\n\tvar setCurrentUser = exports.setCurrentUser = function setCurrentUser(_ref5, user) {\n\t  var dispatch = _ref5.dispatch;\n\t\n\t  dispatch(types.SET_CURRENT_USER, user);\n\t};\n\t\n\tvar setAuthorized = exports.setAuthorized = function setAuthorized(_ref6, token) {\n\t  var dispatch = _ref6.dispatch;\n\t\n\t  dispatch(types.SET_AUTHORIZED, token);\n\t};\n\n/***/ },\n\n/***/ 6:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(21);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\texports.get = get;\n\texports.post = post;\n\texports.put = put;\n\texports.patch = patch;\n\texports.del = del;\n\t\n\tvar _queryString = __webpack_require__(112);\n\t\n\tvar _queryString2 = _interopRequireDefault(_queryString);\n\t\n\tvar _configs = __webpack_require__(35);\n\t\n\tvar _configs2 = _interopRequireDefault(_configs);\n\t\n\t__webpack_require__(166);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar urlPrefix = _configs2.default.domain + _configs2.default.apiPath;\n\t\n\tfunction filterJSON(res) {\n\t  return res.json();\n\t}\n\t\n\tfunction filterStatus(res) {\n\t  if (res.status >= 200 && res.status < 300) {\n\t    return res;\n\t  } else if (res.status === 401) {\n\t    var error = new Error('验证错误，请退出重新登录！');\n\t    error.res = res;\n\t    error.type = 'Authorization';\n\t    throw error;\n\t  } else {\n\t    var _error = new Error(res.statusText);\n\t    _error.res = res;\n\t    _error.type = 'http';\n\t    throw _error;\n\t  }\n\t}\n\t\n\tfunction authorization(key, token) {\n\t  if (token) {\n\t    return key + ' ' + token;\n\t  }\n\t  return key;\n\t}\n\t\n\tfunction get(url, params) {\n\t  var token = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\t\n\t  url = urlPrefix + url;\n\t  if (params) {\n\t    url += '?' + _queryString2.default.stringify(params);\n\t  }\n\t\n\t  return fetch(url, { headers: { 'Authorization': authorization('User', token) } }).then(filterStatus).then(filterJSON);\n\t}\n\t\n\tfunction _post(url, method) {\n\t  var body = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\t  var token = arguments.length <= 3 || arguments[3] === undefined ? '' : arguments[3];\n\t\n\t  url = urlPrefix + url;\n\t\n\t  return fetch(url, {\n\t    method: method,\n\t    headers: {\n\t      'Accept': 'application/json',\n\t      'Content-Type': 'application/json',\n\t      'Authorization': authorization('User', token)\n\t    },\n\t    body: (0, _stringify2.default)(body)\n\t  }).then(filterStatus).then(filterJSON);\n\t}\n\t\n\tfunction post(url, body) {\n\t  var token = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\t\n\t  return _post(url, 'POST', body, token);\n\t}\n\t\n\tfunction put(url, body) {\n\t  var token = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\t\n\t  return _post(url, 'PUT', body, token);\n\t}\n\t\n\tfunction patch(url, body) {\n\t  var token = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\t\n\t  return _post(url, 'PATCH', body, token);\n\t}\n\t\n\tfunction del(url, body) {\n\t  var token = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\t\n\t  return _post(url, 'DELETE', body, token);\n\t}\n\n/***/ },\n\n/***/ 17:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getUser = getUser;\n\texports.getCurrentUser = getCurrentUser;\n\texports.getSundry = getSundry;\n\texports.createUser = createUser;\n\texports.updateUser = updateUser;\n\texports.updateAvatar = updateAvatar;\n\texports.signIn = signIn;\n\t\n\tvar _request = __webpack_require__(6);\n\t\n\tvar requestService = _interopRequireWildcard(_request);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction getUser(uid) {\n\t  return requestService.get('/users/' + uid);\n\t}\n\t\n\tfunction getCurrentUser(token) {\n\t  return requestService.get('/users/auth', {}, token);\n\t}\n\t\n\tfunction getSundry(token) {\n\t  return requestService.get('/users/sundry', {}, token);\n\t}\n\t\n\tfunction createUser(params) {\n\t  return requestService.post('/users', params);\n\t}\n\t\n\tfunction updateUser(uid, params, token) {\n\t  return requestService.put('/users/' + uid, params, token);\n\t}\n\t\n\tfunction updateAvatar(uid, sid, token) {\n\t  return requestService.get('/wechat/get_user_avatar_from_wechat', { user_id: uid, media_id: sid }, token);\n\t}\n\t\n\tfunction signIn(params) {\n\t  return requestService.post('/sessions', params);\n\t}\n\n/***/ },\n\n/***/ 20:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar ROUTE_CHANGED = exports.ROUTE_CHANGED = 'router/ROUTE_CHANGED';\n\t\n\tvar SHOW_TOAST = exports.SHOW_TOAST = 'SHOW_TOAST';\n\tvar HIDE_TOAST = exports.HIDE_TOAST = 'HIDE_TOAST';\n\t\n\tvar SIGN_IN = exports.SIGN_IN = 'SIGN_IN';\n\tvar SIGN_OUT = exports.SIGN_OUT = 'SIGN_OUT';\n\tvar SET_AUTHORIZED = exports.SET_AUTHORIZED = 'SET_AUTHORIZED';\n\n/***/ },\n\n/***/ 27:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(28);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _mutations;\n\t\n\tvar _vue = __webpack_require__(34);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(163);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _logger = __webpack_require__(164);\n\t\n\tvar _logger2 = _interopRequireDefault(_logger);\n\t\n\tvar _users = __webpack_require__(41);\n\t\n\tvar _users2 = _interopRequireDefault(_users);\n\t\n\tvar _mutationTypes = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t_vue2.default.config.debug = true;\n\t\n\tvar debug = (\"production\") !== 'production';\n\t\n\tvar state = {\n\t  toast: {\n\t    show: false,\n\t    type: 'text',\n\t    message: '',\n\t    time: 2000\n\t  }\n\t};\n\t\n\tvar mutations = (_mutations = {}, (0, _defineProperty3.default)(_mutations, _mutationTypes.SHOW_TOAST, function (state, message) {\n\t  var type = arguments.length <= 2 || arguments[2] === undefined ? 'text' : arguments[2];\n\t  var time = arguments.length <= 3 || arguments[3] === undefined ? 2000 : arguments[3];\n\t\n\t  state.toast.show = true;\n\t  state.toast.message = message;\n\t  state.toast.type = type;\n\t  state.toast.time = time;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.HIDE_TOAST, function (state) {\n\t  state.toast.show = false;\n\t}), _mutations);\n\t\n\texports.default = new _vuex2.default.Store({\n\t  state: state,\n\t  mutations: mutations,\n\t  modules: {\n\t    users: _users2.default\n\t  },\n\t  strict: debug,\n\t  middlewares: debug ? [(0, _logger2.default)()] : []\n\t});\n\n/***/ },\n\n/***/ 35:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  domain: 'http://ruzun.jiancan.me',\n\t  apiPath: '/api/v1'\n\t};\n\n/***/ },\n\n/***/ 36:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (router) {\n\t  router.map({\n\t    '*': {\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(1, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(33)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/': {\n\t      name: 'home',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(0, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(32)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/home': {\n\t      name: 'home',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(0/* duplicate */, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(32)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/signin': {\n\t      name: 'signin',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(1/* duplicate */, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(33)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/signup': {\n\t      name: 'signup',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(18, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(150)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/users/:uid/edit/': {\n\t      name: 'usersedit',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(17, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(159)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      },\n\t      auth: true\n\t    },\n\t    '/personal': {\n\t      name: 'personal',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(2, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(148)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/teams': {\n\t      name: 'teams',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(14, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(152)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/teams/:tid': {\n\t      name: 'team',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(7, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(155)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/teams/new': {\n\t      name: 'teamsnew',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(10, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(153)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      },\n\t      auth: true\n\t    },\n\t    '/teams/:tid/edit': {\n\t      name: 'teamsedit',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(15, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(151)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      },\n\t      auth: true\n\t    },\n\t    '/teams/:tid/playeds': {\n\t      name: 'teamsplayeds',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(6, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(154)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/teams/:tid/users': {\n\t      name: 'teamsusers',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(5, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(156)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t\n\t    '/games': {\n\t      name: 'games',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(3, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(144)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/games/:gid': {\n\t      name: 'game',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(11, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(147)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/games/:gid/constitution': {\n\t      name: 'constitution',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(16, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(145)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/games/:gid/playeds': {\n\t      name: 'playeds',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(8, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(149)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/games/:gid/points': {\n\t      name: 'points',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(12, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(146)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t\n\t    '/playeds/:pid/techstats': {\n\t      name: 'techstats',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(9, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(158)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t    '/playeds/:pid/analyze': {\n\t      name: 'analyze',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(13, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(157)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    },\n\t\n\t    '/discover': {\n\t      name: 'discover',\n\t      component: function component(resolve) {\n\t        __webpack_require__.e/* require */(4, function(__webpack_require__) { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(143)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this));\n\t      }\n\t    }\n\t  });\n\t};\n\n/***/ },\n\n/***/ 40:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (Vue, config) {\n\t  Vue.mixin({\n\t    created: function created() {\n\t      this.$config = config;\n\t    }\n\t  });\n\t};\n\n/***/ },\n\n/***/ 41:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _defineProperty2 = __webpack_require__(28);\n\t\n\tvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\t\n\tvar _mutations;\n\t\n\tvar _mutationTypes = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar state = {\n\t  isLogged: false,\n\t  token: '',\n\t  user: {}\n\t};\n\t\n\tvar mutations = (_mutations = {}, (0, _defineProperty3.default)(_mutations, _mutationTypes.SIGN_IN, function (state, user) {\n\t  state.isLogged = true;\n\t  state.user = user;\n\t  state.token = user.token;\n\t  localStorage.setItem('ruzun_user_token', user.token);\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.SIGN_OUT, function (state) {\n\t  state.isLogged = false;\n\t  state.user = {};\n\t  localStorage.removeItem('ruzun_user_token');\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.SET_CURRENT_USER, function (state, user) {\n\t  state.user = user;\n\t}), (0, _defineProperty3.default)(_mutations, _mutationTypes.SET_AUTHORIZED, function (state, token) {\n\t  state.isLogged = true;\n\t  state.token = localStorage.getItem('ruzun_user_token');\n\t}), _mutations);\n\t\n\texports.default = {\n\t  state: state,\n\t  mutations: mutations\n\t};\n\n/***/ },\n\n/***/ 42:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  init: function init(Vue) {\n\t    Vue.http.get('http://ruzun.jiancan.me/api/v1/wechat/sign_package.json?request_url=' + location.href.split('#')[0]).then(function (res) {\n\t      if (typeof res.data === 'string') {\n\t        res.data = JSON.parse(res.data);\n\t      }\n\t      var data = res.data;\n\t\n\t      window.wx.config({\n\t        appId: data.appId,\n\t        timestamp: data.timestamp,\n\t        nonceStr: data.nonceStr,\n\t        signature: data.signature,\n\t        jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo', 'hideMenuItems', 'showMenuItems', 'hideAllNonBaseMenuItem', 'showAllNonBaseMenuItem', 'translateVoice', 'startRecord', 'stopRecord', 'onRecordEnd', 'playVoice', 'pauseVoice', 'stopVoice', 'uploadVoice', 'downloadVoice', 'chooseImage', 'previewImage', 'uploadImage', 'downloadImage', 'getNetworkType', 'openLocation', 'getLocation', 'hideOptionMenu', 'showOptionMenu', 'closeWindow', 'scanQRCode', 'chooseWXPay', 'openProductSpecificView', 'addCard', 'chooseCard', 'openCard']\n\t      });\n\t    });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 43:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _store = __webpack_require__(27);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _toast = __webpack_require__(165);\n\t\n\tvar _toast2 = _interopRequireDefault(_toast);\n\t\n\tvar _actions = __webpack_require__(5);\n\t\n\tvar _userService = __webpack_require__(17);\n\t\n\tvar userService = _interopRequireWildcard(_userService);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  store: _store2.default,\n\t  vuex: {\n\t    getters: {\n\t      toast: function toast(state) {\n\t        return state.toast;\n\t      },\n\t      isLogged: function isLogged(state) {\n\t        return state.users.isLogged;\n\t      }\n\t    },\n\t    actions: {\n\t      showToast: _actions.showToast,\n\t      hideToast: _actions.hideToast,\n\t      setCurrentUser: _actions.setCurrentUser,\n\t      setAuthorized: _actions.setAuthorized\n\t    }\n\t  },\n\t  computed: {\n\t    showToast: {\n\t      get: function get() {\n\t        return this.toast.show;\n\t      },\n\t      set: function set(val) {\n\t        if (!val) {\n\t          this.hideToast();\n\t        }\n\t      }\n\t    }\n\t  },\n\t  components: {\n\t    Toast: _toast2.default\n\t  },\n\t  created: function created() {\n\t    var _this = this;\n\t\n\t    if (!this.isLogged) {\n\t      var token = localStorage.getItem('ruzun_user_token');\n\t      if (token !== null) {\n\t        this.setAuthorized(token);\n\t        userService.getCurrentUser(token).then(function (responseJson) {\n\t          _this.setCurrentUser(responseJson.user);\n\t        }).catch(function (error) {\n\t          console.log(error);\n\t        });\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 93:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 121:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div id=main> <router-view></router-view> <toast :show.sync=showToast :type=toast.type>{{toast.message}}</toast> </div> \";\n\n/***/ },\n\n/***/ 142:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(93)\n\t__vue_script__ = __webpack_require__(43)\n\t__vue_template__ = __webpack_require__(121)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.e840411567999fa77f05.js\n **/","'use strict'\n\nimport Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport VueResource from 'vue-resource'\nimport lazyload from 'vue-lazyload'\nimport FastClick from 'fastclick'\nimport routerMap from './routers'\nimport vueConfig from './vue-config'\nimport { sync } from 'vuex-router-sync'\nimport store from './vuex/store'\nimport WxApi from './wx-api'\n\nVue.config.debug = true\n\nconst configs = {\n  API: process.env.NODE_ENV === 'production' ? 'http://ruzun.jiancan.me/api/v1' : 'http://ruzun.jiancan.me/api/v1'\n}\n\nVue.use(VueResource)\nVue.use(VueRouter)\nVue.use(vueConfig, configs)\nVue.use(lazyload, {\n  error: '',\n  loading: '',\n  try: 3\n})\n\nlet router = new VueRouter({})\n\nrouter.beforeEach(transition => {\n  if (transition.to.auth) {\n    // 对用户身份进行验证...\n    let token = localStorage.getItem('ruzun_user_token')\n    if (!token || token === null) {\n      transition.redirect('/signin')\n    }\n  }\n  FastClick.attach(document.body)\n  transition.next()\n})\n\nlet main = Vue.extend(require('./main.vue'))\n\nrouterMap(router)\n\nsync(store, router)\n\nWxApi.init(Vue)\n\nrouter.start(main, '#app')\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import * as types from './mutation-types'\n\nexport const showToast = ({ dispatch }, toast) => {\n  dispatch(types.SHOW_TOAST, toast)\n}\n\nexport const hideToast = ({ dispatch }) => {\n  dispatch(types.HIDE_TOAST)\n}\n\nexport const signin = ({ dispatch }, user) => {\n  dispatch(types.SIGN_IN, user)\n}\n\nexport const signout = ({ dispatch }) => {\n  dispatch(types.SIGN_OUT)\n}\n\nexport const setCurrentUser = ({ dispatch }, user) => {\n  dispatch(types.SET_CURRENT_USER, user)\n}\n\nexport const setAuthorized = ({ dispatch }, token) => {\n  dispatch(types.SET_AUTHORIZED, token)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/actions.js\n **/","import qs from 'query-string'\nimport config from '../configs'\nimport 'whatwg-fetch'\n\nconst urlPrefix = config.domain + config.apiPath\n\nfunction filterJSON (res) {\n  return res.json()\n}\n\nfunction filterStatus (res) {\n  if (res.status >= 200 && res.status < 300) {\n    return res\n  } else if (res.status === 401) {\n    let error = new Error('验证错误，请退出重新登录！')\n    error.res = res\n    error.type = 'Authorization'\n    throw error\n  } else {\n    let error = new Error(res.statusText)\n    error.res = res\n    error.type = 'http'\n    throw error\n  }\n}\n\nfunction authorization (key, token) {\n  if (token) {\n    return key + ' ' + token\n  }\n  return key\n}\n\nexport function get (url, params, token = '') {\n  url = urlPrefix + url\n  if (params) {\n    url += '?' + qs.stringify(params)\n  }\n  /*\n  if (__DEV__) {\n    console.info('GET', url)\n    console.info('Params', params)\n  }\n  */\n  return fetch(url, { headers: { 'Authorization': authorization('User', token) } }).then(filterStatus).then(filterJSON)\n}\n\nfunction _post (url, method, body = {}, token = '') {\n  url = urlPrefix + url\n  /*\n  if (__DEV__) {\n    console.info('POST:', url)\n    console.info('Body', body)\n  }\n  */\n  return fetch(url, {\n    method: method,\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': authorization('User', token)\n    },\n    body: JSON.stringify(body)\n  })\n  .then(filterStatus)\n  .then(filterJSON)\n}\n\nexport function post (url, body, token = '') {\n  return _post(url, 'POST', body, token)\n}\n\nexport function put (url, body, token = '') {\n  return _post(url, 'PUT', body, token)\n}\n\nexport function patch (url, body, token = '') {\n  return _post(url, 'PATCH', body, token)\n}\n\nexport function del (url, body, token = '') {\n  return _post(url, 'DELETE', body, token)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/services/request.js\n **/","import * as requestService from './request'\n\nexport function getUser (uid) {\n  return requestService.get('/users/' + uid)\n}\n\nexport function getCurrentUser (token) {\n  return requestService.get('/users/auth', {}, token)\n}\n\nexport function getSundry (token) {\n  return requestService.get('/users/sundry', {}, token)\n}\n\nexport function createUser (params) {\n  return requestService.post('/users', params)\n}\n\nexport function updateUser (uid, params, token) {\n  return requestService.put('/users/' + uid, params, token)\n}\n\nexport function updateAvatar (uid, sid, token) {\n  return requestService.get('/wechat/get_user_avatar_from_wechat', {user_id: uid, media_id: sid}, token)\n}\n\nexport function signIn (params) {\n  return requestService.post('/sessions', params)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/services/userService.js\n **/","export const ROUTE_CHANGED = 'router/ROUTE_CHANGED'\n\nexport const SHOW_TOAST = 'SHOW_TOAST'\nexport const HIDE_TOAST = 'HIDE_TOAST'\n\nexport const SIGN_IN = 'SIGN_IN'\nexport const SIGN_OUT = 'SIGN_OUT'\nexport const SET_AUTHORIZED = 'SET_AUTHORIZED'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/mutation-types.js\n **/","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createLogger from 'vuex/logger'\nimport users from './modules/users'\nimport { SHOW_TOAST, HIDE_TOAST } from './mutation-types'\n\nVue.use(Vuex)\nVue.config.debug = true\n\nconst debug = process.env.NODE_ENV !== 'production'\n\nconst state = {\n  toast: {\n    show: false,\n    type: 'text',\n    message: '',\n    time: 2000\n  }\n}\n\nconst mutations = {\n  [SHOW_TOAST] (state, message, type = 'text', time = 2000) {\n    state.toast.show = true\n    state.toast.message = message\n    state.toast.type = type\n    state.toast.time = time\n  },\n  [HIDE_TOAST] (state) {\n    state.toast.show = false\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  modules: {\n    users\n  },\n  strict: debug,\n  middlewares: debug ? [createLogger()] : []\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/store.js\n **/","export default {\n  domain: 'http://ruzun.jiancan.me',\n  apiPath: '/api/v1'\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/configs/index.js\n **/","'use strict'\n\nexport default function (router) {\n  router.map({\n    '*': {\n      component: function (resolve) {\n        require(['./views/signin.vue'], resolve)\n      }\n    },\n    '/': {\n      name: 'home',\n      component: function (resolve) {\n        require(['./views/home.vue'], resolve)\n      }\n    },\n    '/home': {\n      name: 'home',\n      component: function (resolve) {\n        require(['./views/home.vue'], resolve)\n      }\n    },\n    '/signin': {\n      name: 'signin',\n      component: function (resolve) {\n        require(['./views/signin.vue'], resolve)\n      }\n    },\n    '/signup': {\n      name: 'signup',\n      component: function (resolve) {\n        require(['./views/signup.vue'], resolve)\n      }\n    },\n    '/users/:uid/edit/': {\n      name: 'usersedit',\n      component: function (resolve) {\n        require(['./views/users/edit.vue'], resolve)\n      },\n      auth: true\n    },\n    '/personal': {\n      name: 'personal',\n      component: function (resolve) {\n        require(['./views/personal.vue'], resolve)\n      }\n    },\n    '/teams': {\n      name: 'teams',\n      component: function (resolve) {\n        require(['./views/teams/index.vue'], resolve)\n      }\n    },\n    '/teams/:tid': {\n      name: 'team',\n      component: function (resolve) {\n        require(['./views/teams/show.vue'], resolve)\n      }\n    },\n    '/teams/new': {\n      name: 'teamsnew',\n      component: function (resolve) {\n        require(['./views/teams/new.vue'], resolve)\n      },\n      auth: true\n    },\n    '/teams/:tid/edit': {\n      name: 'teamsedit',\n      component: function (resolve) {\n        require(['./views/teams/edit.vue'], resolve)\n      },\n      auth: true\n    },\n    '/teams/:tid/playeds': {\n      name: 'teamsplayeds',\n      component: function (resolve) {\n        require(['./views/teams/playeds.vue'], resolve)\n      }\n    },\n    '/teams/:tid/users': {\n      name: 'teamsusers',\n      component: function (resolve) {\n        require(['./views/teams/users.vue'], resolve)\n      }\n    },\n\n    '/games': {\n      name: 'games',\n      component: function (resolve) {\n        require(['./views/games.vue'], resolve)\n      }\n    },\n    '/games/:gid': {\n      name: 'game',\n      component: function (resolve) {\n        require(['./views/games/show.vue'], resolve)\n      }\n    },\n    '/games/:gid/constitution': {\n      name: 'constitution',\n      component: function (resolve) {\n        require(['./views/games/constitution.vue'], resolve)\n      }\n    },\n    '/games/:gid/playeds': {\n      name: 'playeds',\n      component: function (resolve) {\n        require(['./views/playeds/index.vue'], resolve)\n      }\n    },\n    '/games/:gid/points': {\n      name: 'points',\n      component: function (resolve) {\n        require(['./views/games/points.vue'], resolve)\n      }\n    },\n\n    '/playeds/:pid/techstats': {\n      name: 'techstats',\n      component: function (resolve) {\n        require(['./views/techstats/index.vue'], resolve)\n      }\n    },\n    '/playeds/:pid/analyze': {\n      name: 'analyze',\n      component: function (resolve) {\n        require(['./views/techstats/analyze.vue'], resolve)\n      }\n    },\n\n    '/discover': {\n      name: 'discover',\n      component: function (resolve) {\n        require(['./views/discover.vue'], resolve)\n      }\n    }\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/routers.js\n **/","module.exports = function (Vue, config) {\n  Vue.mixin({\n    created: function () {\n      this.$config = config\n    }\n  })\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vue-config.js\n **/","import {\n  SIGN_IN,\n  SIGN_OUT,\n  SET_CURRENT_USER,\n  SET_AUTHORIZED\n} from '../mutation-types'\n\nconst state = {\n  isLogged: false,\n  token: '',\n  user: {}\n}\n\nconst mutations = {\n  [SIGN_IN] (state, user) {\n    state.isLogged = true\n    state.user = user\n    state.token = user.token\n    localStorage.setItem('ruzun_user_token', user.token)\n  },\n  [SIGN_OUT] (state) {\n    state.isLogged = false\n    state.user = {}\n    localStorage.removeItem('ruzun_user_token')\n  },\n  [SET_CURRENT_USER] (state, user) {\n    state.user = user\n  },\n  [SET_AUTHORIZED] (state, token) {\n    state.isLogged = true\n    state.token = localStorage.getItem('ruzun_user_token')\n  }\n}\n\nexport default {\n  state,\n  mutations\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/vuex/modules/users.js\n **/","export default {\n  init (Vue) {\n    Vue.http.get('http://ruzun.jiancan.me/api/v1/wechat/sign_package.json?request_url=' + location.href.split('#')[0]).then(res => {\n      if (typeof res.data === 'string') {\n        res.data = JSON.parse(res.data)\n      }\n      let data = res.data\n\n      window.wx.config({\n        appId: data.appId,\n        timestamp: data.timestamp,\n        nonceStr: data.nonceStr,\n        signature: data.signature,\n        jsApiList: [\n          'onMenuShareTimeline',\n          'onMenuShareAppMessage',\n          'onMenuShareQQ',\n          'onMenuShareWeibo',\n          'hideMenuItems',\n          'showMenuItems',\n          'hideAllNonBaseMenuItem',\n          'showAllNonBaseMenuItem',\n          'translateVoice',\n          'startRecord',\n          'stopRecord',\n          'onRecordEnd',\n          'playVoice',\n          'pauseVoice',\n          'stopVoice',\n          'uploadVoice',\n          'downloadVoice',\n          'chooseImage',\n          'previewImage',\n          'uploadImage',\n          'downloadImage',\n          'getNetworkType',\n          'openLocation',\n          'getLocation',\n          'hideOptionMenu',\n          'showOptionMenu',\n          'closeWindow',\n          'scanQRCode',\n          'chooseWXPay',\n          'openProductSpecificView',\n          'addCard',\n          'chooseCard',\n          'openCard'\n        ]\n      })\n    })\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/wx-api.js\n **/","<template>\n  <div id=\"main\">\n    <router-view></router-view>\n    <toast :show.sync=\"showToast\" :type=\"toast.type\">{{toast.message}}</toast>\n  </div>\n</template>\n<script>\n  import store from './vuex/store'\n  import Toast from 'vux/dist/components/toast'\n  import { showToast, hideToast, setCurrentUser, setAuthorized } from './vuex/actions'\n  import * as userService from './services/userService'\n\n  export default {\n    store,\n    vuex: {\n      getters: {\n        toast: state => state.toast,\n        isLogged: state => state.users.isLogged\n      },\n      actions: {\n        showToast,\n        hideToast,\n        setCurrentUser,\n        setAuthorized\n      }\n    },\n    computed: {\n      showToast: {\n        get () {\n          return this.toast.show\n        },\n        set (val) {\n          if (!val) {\n            this.hideToast()\n          }\n        }\n      }\n    },\n    components: {\n      Toast\n    },\n    created () {\n      if (!this.isLogged) {\n        let token = localStorage.getItem('ruzun_user_token')\n        if (token !== null) {\n          this.setAuthorized(token)\n          userService.getCurrentUser(token)\n          .then((responseJson) => {\n            this.setCurrentUser(responseJson.user)\n          })\n          .catch((error) => {\n            console.log(error)\n          })\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"scss\">\n  @import '~vux/dist/vux.css';\n  .x-header {\n    background-color:#23a05a;\n  }\n  .x-header .x-header-title a,.x-header .x-header-title a:active,.x-header h1 a,.x-header h1 a:active {\n    color: #fff\n  }\n  .x-header .x-header-left,.x-header .x-header-right {\n    color: #fff\n  }\n  .x-header .x-header-left a,.x-header .x-header-left button,.x-header .x-header-right a,.x-header .x-header-right button {\n    color: #fff\n  }\n  .x-header .x-header-left .x-header-back:before {\n    border-color: #fff;\n  }\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** main.vue?bcd6236a\n **/","module.exports = \" <div id=main> <router-view></router-view> <toast :show.sync=showToast :type=toast.type>{{toast.message}}</toast> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/main.vue\n ** module id = 121\n ** module chunks = 21\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!sass-loader?sourceMap!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./main.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./main.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./main.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/main.vue\n ** module id = 142\n ** module chunks = 21\n **/"],"sourceRoot":""}
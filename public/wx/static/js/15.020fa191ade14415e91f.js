webpackJsonp([15,17],{1:function(e,t,s){!function(t,s){e.exports=s()}(this,function(){return function(e){function t(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){e.exports=s(4)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},function(e,t){},function(e,t){e.exports="<div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>"},function(e,t,s){var i,o;s(2),i=s(1),o=s(3),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)}])})},60:function(e,t,s){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=s(21),a=o(l),r=s(1),c=o(r),n=s(17),u=i(n),d=s(4);t["default"]={vuex:{getters:{isLogged:function(e){return e.users.isLogged},token:function(e){return e.users.token}},actions:{showToast:d.showToast,setCurrentUser:d.setCurrentUser}},data:function(){return{user:{}}},route:{data:function(e){var t=this;this.isLogged?u.getUser(this.$route.params.uid).then(function(e){t.$set("user",e.user)})["catch"](function(e){t.showToast(e)}):this.$route.router.go({name:"signin"})}},methods:{update:function(){var e=this,t={user:{name:this.user.name,height:this.user.height,weight:this.user.weight,position:this.user.position}};u.updateUser(this.user.id,t,this.token).then(function(t){e.setCurrentUser(t.user),e.showToast("更新成功！")})["catch"](function(t){console.log(t),e.showToast("更新失败！")})},chooseImage:function(){var e=this;window.wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var s=t.localIds.toString();window.wx.uploadImage({localId:s,success:function(t){u.updateAvatar(e.user.id,t.serverId,e.token).then(function(t){e.setCurrentUser(t.user),e.showToast("上传成功！")})["catch"](function(t){e.showToast(t)})},fail:function(e){alert((0,a["default"])(e))}})}})}},components:{XHeader:c["default"]}}},87:function(e,t,s){t=e.exports=s(2)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"edit.vue",sourceRoot:"webpack://"}])},103:function(e,t,s){var i=s(87);"string"==typeof i&&(i=[[e.id,i,""]]);s(3)(i,{});i.locals&&(e.exports=i.locals)},132:function(e,t){e.exports=' <x-header> 首页 <a slot=right @click=update href=javascript:;> 保存 </a> </x-header> <div class=team_logo> <div class=logo> <img :src=user.avatar alt="" @click=chooseImage /> </div> </div> <div class="weui_cells weui_cells_form"> <div class=weui_cell> <div class=weui_cell_hd style=width:25%> <label class=weui_label> 真实姓名 </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=text placeholder=名称 v-model=user.name /> </div> </div> <div class=weui_cell> <div class=weui_cell_hd style=width:25%> <label class=weui_label> 身高(CM) </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=text placeholder=身高 v-model=user.height /> </div> </div> <div class=weui_cell> <div class=weui_cell_hd style=width:25%> <label class=weui_label> 体重(公斤) </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=text placeholder=体重 v-model=user.weight /> </div> </div> <div class="weui_cell weui_cell_select weui_select_after"> <div class=weui_cell_hd style=width:25%> <label class=weui_label> 擅长位置 </label> </div> <div class="weui_cell_bd weui_cell_primary"> <select class=weui_select v-model=user.position> <option value=SG>得分后卫</option> <option value=PG>控球后卫</option> <option value=SF>小前锋</option> <option value=PF>大前锋</option> <option value=C>中锋</option> </select> </div> </div> </div> '},149:function(e,t,s){var i,o;s(103),i=s(60),o=s(132),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)}});
//# sourceMappingURL=15.020fa191ade14415e91f.js.map
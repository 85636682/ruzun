webpackJsonp([0,7],[,function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(4)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{show:{type:Boolean,"default":!1},time:{type:Number,"default":2e3},type:{type:String,"default":"success"},transition:{type:String,"default":"vux-fade"},width:{type:String,"default":"7.6em"}},computed:{toastClass:function(){return{weui_toast_forbidden:"warn"===this.type,weui_toast_cancel:"cancel"===this.type,weui_toast_success:"success"===this.type,weui_toast_text:"text"===this.type}}},watch:{show:function(t){var e=this;t&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1},this.time))}}}},function(t,e){},function(t,e){t.exports='<div v-show=show class=vux-toast :transition=transition> <div class=weui_mask_transparent></div> <div class=weui_toast :style="{width: width}" :class=toastClass> <i class=weui_icon_toast v-show="type !== \'text\'"></i> <p class=weui_toast_content><slot></slot></p> </div> </div>'},function(t,e,n){var o,r;n(2),o=n(1),r=n(3),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}])})},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(4)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},function(t,e){},function(t,e){t.exports="<div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>"},function(t,e,n){var o,r;n(2),o=n(1),r=n(3),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}])})},,,function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(3)},function(t,e){},function(t,e){t.exports="<p class=vux-divider> <slot></slot> </p>"},function(t,e,n){var o,r;n(1),r=n(2),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)}])})},function(t,e,n){var o,r;n(31),o=n(14),r=n(45),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={domain:"http://ruzun.jiancan.me",apiPath:"/api/v1"}},,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t=t.json(),"string"==typeof t&&(t=JSON.parse(t)),t}function i(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.res=t,e.type="http",e}function s(t,e){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return t=y+t,e&&(t+="?"+h["default"].stringify(e)),fetch(t,{headers:{Authorization:n}}).then(i).then(r)}function a(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=arguments.length<=3||void 0===arguments[3]?"":arguments[3];return t=y+t,fetch(t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:o},body:(0,d["default"])(n)}).then(i).then(r)}function u(t,e){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return a(t,"POST",e,n)}function c(t,e){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return a(t,"PUT",e,n)}function l(t,e){var n=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return a(t,"PATCH",e,n)}function p(t){return a(t,"DELETE")}Object.defineProperty(e,"__esModule",{value:!0});var f=n(20),d=o(f);e.get=s,e.post=u,e.put=c,e.patch=l,e.del=p;var v=n(39),h=o(v),_=n(7),x=o(_),y=x["default"].domain+x["default"].apiPath},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return u.post("/users",t)}function i(t,e){return u.put("/users/"+t,e)}function s(t){return u.post("/sessions",t)}Object.defineProperty(e,"__esModule",{value:!0}),e.createUser=r,e.updateUser=i,e.signIn=s;var a=n(9),u=o(a)},,,,function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),s=r(i),a=n(5),u=r(a),c=n(1),l=r(c),p=n(10),f=o(p);e["default"]={data:function(){return{mobile:"",password:"",loginFail:!1}},route:{data:function(t){var e=localStorage.getItem("ruzun_user_token");e&&null!==e&&this.$route.router.go({name:"home"})}},methods:{signIn:function(){var t=this;return""===this.mobile&&""===this.password?void this.$set("loginFail",!0):void f.signIn({mobile:this.mobile,password:this.password}).then(function(e){localStorage.setItem("ruzun_user_token",e.user.token),localStorage.setItem("ruzun_user_id",e.user.id),t.$route.router.go({name:"home"})})["catch"](function(e){console.log(e),t.$set("loginFail",!0)})}},components:{XHeader:s["default"],Divider:u["default"],Toast:l["default"]}}},,,,,,function(t,e,n){t.exports={"default":n(21),__esModule:!0}},function(t,e,n){var o=n(22),r=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){e=t.exports=n(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"signin.vue",sourceRoot:"webpack://"}])},,,,,,,,function(t,e,n){var o=n(23);"string"==typeof o&&(o=[[t.id,o,""]]);n(4)(o,{});o.locals&&(t.exports=o.locals)},,,,,,,,function(t,e,n){"use strict";function o(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}var r=n(41),i=n(40);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){var e=Object.create(null);return"string"!=typeof t?e:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),o=n.shift(),r=n.length>0?n.join("="):void 0;o=decodeURIComponent(o),r=void 0===r?null:decodeURIComponent(r),void 0===e[o]?e[o]=r:Array.isArray(e[o])?e[o].push(r):e[o]=[e[o],r]}),e):e},e.stringify=function(t,e){var n={encode:!0,strict:!0};return e=i(n,e),t?Object.keys(t).sort().map(function(n){var r=t[n];if(void 0===r)return"";if(null===r)return o(n,e);if(Array.isArray(r)){var i=[];return r.slice().forEach(function(t){void 0!==t&&(null===t?i.push(o(n,e)):i.push(o(n,e)+"="+o(t,e)))}),i.join("&")}return o(n,e)+"="+o(r,e)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==o.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}var r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(t,e){for(var o,s,a=n(t),u=1;u<arguments.length;u++){o=Object(arguments[u]);for(var c in o)r.call(o,c)&&(a[c]=o[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(o);for(var l=0;l<s.length;l++)i.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a}},function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},,,,function(t,e){t.exports=' <x-header> 登录 </x-header> <div class="weui_cells weui_cells_form"> <div class=weui_cell> <div class=weui_cell_hd style=width:5%> <label class=weui_label> <i class="fa fa-mobile"></i> </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=text placeholder=手机号码 v-model=mobile /> </div> </div> <div class=weui_cell> <div class=weui_cell_hd style=width:5%> <label class=weui_label> <i class="fa fa-lock"></i> </label> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input type=password placeholder=密码 v-model=password /> </div> </div> </div> <div class=button_sp_area style="margin-top:30px;padding: 10px"> <a @click=signIn href=javascript:; class="weui_btn weui_btn_plain_primary">登 录</a> </div> <divider>没账号?</divider> <div class=button_sp_area style="margin-top:5px;padding: 10px"> <a v-link="{ name: \'signup\' }" class="weui_btn weui_btn_plain_primary">注 册</a> </div> <toast :show.sync=loginFail type=text>登录失败</toast> '}]);
//# sourceMappingURL=0.cd08ed03d67fd9b2016e.js.map
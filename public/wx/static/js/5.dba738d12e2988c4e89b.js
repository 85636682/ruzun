webpackJsonp([5,17],{1:function(e,t,i){!function(t,i){e.exports=i()}(this,function(){return function(e){function t(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(4)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},function(e,t){},function(e,t){e.exports="<div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div>"},function(e,t,i){var s,a;i(2),s=i(1),a=i(3),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)}])})},6:function(e,t,i){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function a(){return p.get("/teams")}function r(e){return p.get("/teams/"+e)}function o(e,t){return p.post("/teams",e,t)}function n(e,t,i){return p.put("/teams/"+e,t,i)}function u(e,t,i){return p.get("/wechat/get_team_logo_from_wechat",{team_id:e,media_id:t},i)}function c(e,t){return p.del("/teams/"+e,{},t)}function l(e){return p.get("/teams/"+e+"/playeds")}Object.defineProperty(t,"__esModule",{value:!0}),t.getTeams=a,t.getTeam=r,t.createTeam=o,t.updateTeam=n,t.updateLogo=u,t.deleteTeam=c,t.getTeamPlayeds=l;var d=i(5),p=s(d)},24:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAADlZJREFUeAHtXQ1wHFUd37f3kVBp0jZ3SQuUKXZanFYQjW2SihhnBKa2+WilWGr5sNiiMIA4MiqIU1CLM1CVAURagQpSpYEmuYJ1Bj+itEkuUB0Rh9EKlK+WXi5t+gGkudw+f//LXSdNL9339nb39i5vZ2726//+H7/32923b//vnaapRSGgEFAIKAQUAgoBhYBCQCGgEFAIKAQUAgoBhYBCQCGgEFAIKAQUAgoBhYBCQCGgEChOBJhsWL2NtfdquvZ52XJK3iUEDF99OLLziKg1v6jgcTnG5mucf+r4vtrwFAKBJJOqU13ee14hX0aV8CoCFgjAJns1GOWXPAIWCMDL5M2oEl5FwAIBtAleDUb5JY+AFAF2L1xYAhPSbw7ybqkSbiEgRYBJgcNBtxxTdtxBQIoAsq8Y7oSgrOSCgBQBcjGkynoTASkCGBM+NLwZhvLKKgJSBBgY0BJWDaly3kRAigDTqncNeDMM5ZVVBKQIwNZq9Aj40KoxVc57CEgRIO3+Ye+FoTyyioAVAhy0akyV8x4C8gTgWtx7YSiPrCIg9e2YjDCm7edWrbleju2TM8nLIe/0tw5cQEzgbYr74EulnP/y0tIEMJi2jxUKA5ixNtwW3SAKS7y5bj7nfCfkpXERsYGPKJ0VwekXsZaWpJl8rLlmHePse2ZyuZ6XfgSgwNu5GnWtPGf37W+sOV/UXqitq4dz7U5ReTk53u/z6SvEKr92ISr/u3L6rUlLEwDvgXusmcpLqVKdaVtiy+pPF7UeLpl+t8a1HaLyonKc62smb+1800y+r2nedNh/AnKufHWVJgDT+GtmQXjrPDuXHRt4SNQnukL9fn0l5A+JlhGQ21gZ6Woxk+NrqgNJTX8KNe9a2p00AfRj2m6zQDx3nmkrY411q0T9Gr5S2fWi8iZyryaMxDdNZFKn47HAT5jG6kRk7ZKRJkDF9ih1BO21ywG39DDG7+9rmDdX1F64vWszZJ8UlR9DbsDgfPkZ23Z9MMb544fRAG3Grf9bxw+4tCFNAPKLa+wVl/yz08wEQ/dt2dtQLfyapw/y63E73mPVCTTkbq2KRF82K7//S/M+yrnxmJmcE+ctEQCgmAblhLM26JwT1AMPiuqhu12Sa9QeMH1ty6IzEop0PZDl+AmHKM1OH/JtQZtv0gknXNqxRAC0T//ukn+2m0EXxjXx5porRRVXRbp3apytE5VPy71bohurRMqUBw/+FHLVIrJOyFgiAB8yXnLCGbd0cs4eijfUfUzUXuhwyV2QjQrKG7hAVpa19vSZyfc21izH3dSuxqaZuaznLRGg8tkovQkcyKqxMA5+RNP5lreX1Z0m4i7r6BgymP4VyB41k0dX+bpwW3eHmVzvkvmz0a8u3Etpps/qeUsESBnjWqdVo14oh0fBeaWD/D5RX6raOl/jTLvxVPK4mjsrAtPXnkqGzhHxmKE/jc2JZrJOn7dMAKZrLzjtnAv6V/c2110haqeyrXsTrvAxOnTEu3pPSxgPEAFF7TopZ5kAaLV2OOmYa7o5fzi2uGaWqD1/wn8dZN8ZLS/a1RtvrL0abZBVo8vna98yASoCZ+1Cj0B/vhy30e5E5tO2pEc9maqd9NyOgxgefxUER2ZIC3X1Hliy4ON4jPzC1IiLApYJQH3mnLE/u+irg6bYBenXMSEb4Uj0L7iF35MWFurqpQ9SScOgx4dwR5SQMzkKWSYA2UVewPYc7XumOL2O4XvBMlGHwlWJO6jRJ9rVywYHHoZu4VdPUT9ylcuJAJov8RwcwMVQHAu+F2ykblmRaNiGXYmKqkS9SFdvb1MdtRtWiOh1WyYnAoS37toHh19022kH7ZVTtyxfNjcoYoNIYCaHu8oncY0Iv26a6bP7fE4EIGdwG9xqt1N51lfdNzgx83zPyZUDy6rLcVeh535JToocLJwzAZL+JAVYVAueaTelPs/mGNVQIvAoVMzMUY2jxXMmQNUzL76O20AxPQZSgNPn2X3NtTOsoh9rrLkZjeSlVsu7VS5nApCj3OC5Jk64Fa+EHTbJz7XfUZqWRKGUaLxhwTzGmC2PEVnbsvK2EMDw+X4Lw0OyxgtAvib+XuBuaT8534t3o4LoJLOFAFNbO2MA6ffSQBVGAelkkNCzXe/imwG99o3sLfRktLYQIB3ZrzwZYS5OcW1LKNJtKT8/1N79R/SUrc3FvBtlbSNAKDid7gAnfSRxIwiHbOzsT0y+Cq+5lju6Qm3RH8G3Pzjkny1qbSNAasQL14rjLsC03Ujpapq1ffuxXFAm8kAP5RS+lYseJ8vaRoBhJ30bsS70xmDc0PSFIildIhVDekCEyyE7KCLvtoytBMA05XsRAGW6FOryoa7rjZT9Y2cAaA9E8Rn423bqtEuXrQRIOcWN9XY557Iew2D8yorWzi4n7CKb6H60JpD+7a3FdgKEIz2UMfwnb4Up4A3Xbq1qiz4jIJkSQfveAna+r6FZ8B9RG27IWQhCwC2d/VBAyjMiuD0/EI50U36+0ILXAtb3j9pHYs21NwoVSAvRP3n4dN9l2P1AppyTso4QINza9VekPBdKttC28AXdN8uAHG+qXQ8SXIO+/vWxJTUXypSd0tr5Cr4Qfl2mjJOyjhCAHGac3+ak4/boZi9h5O5yNjz9nZDKWGPt9yF4S1o4wAzW0ru0eppQ4bQQ+geewGijDTJlnJJ1jADU8h07hdqpcMT14tVsj8GNxSIjdzNa40011yOm0Y+3qSwZeFr2o1F/YtJNXhhi5xgBCLShpPEdrHLqTMmAb+8a2cy69kWkc+0X1Yu0rhUYFZ11sCceBwt69wd/JqqL5KiTyfAlkYOY38xqRwkwdVvPG7jSvPZaOIj2yZJQa/erohXW2zh/ESrq15BHONkXzJxyQ7yp7qrsZ7MfTeVScHY1zoJD+VkcJQCFNGgkfozVm/kJ72SraIBdKzJ2L1My1jT/sxrTKevJnzk21ppr/JfDOYBjSZx8HG8fEVR/3nIHHCdA6hnLjRtODt39I5gB7A40wH4japkqk2n6NsgLDSIlOZ3xrYeW1U0RtUFyocOlt+Mm8DeZMnbJOk4AchSdQ5Q+/pRdTlvRgyv/0cpIN32dE1po9C7K0Jc8mjxSeMG9fEZi0Ngs01FEo48139ByGBFukwg7ZCLoCgHIh6Fg4Ebc6npN/HHkNDp6nq/oP+06UeV9S2vO0gz9echXipYZKYfG4qXoKLpr5DGz7VSKPedXQE46AcVM96nOu0aAaS0v9CJPTrgSTuW05LmXfcf4ZamrTKAg5hAKGUlGlX+2gPiYIrgT3BZvqGkaUyDLifSQsx9kOeXYIdcIQBGE2rta0Yze5Fg0Jyt+V/fxRemZzU4+O+pIb+NnJgb0AN327RjCxbjOHk9NBDHKzql2w+3dyEFk9Mh0ZXGVABSRESyl/vP/uRDdEUM3FlVsjb4jYuuN+vpSjSUjkLVzvp4yPEpaZWYqxQXCg0GNXiddeXNynQCVLR1HkSr5ZQToZILEEMbgX17V2vNPkcrn9fX+08sHqJFaLyIvKTNHHzz2mEyZ8pauA5hBBJ1EjmKUcgmEy8+CbtUbxupZs8mjhIQewsH0PV9CXzZRK5lSPiiSqqPAkH9Kag6DbB5kOeb6HSDjQ6g9+iC2N2f2HVjTgA7Rn9OVT+GRDdmfVOWTEdklbwQgR/ElbjVeDYVu07KBKXkxBPJKAOolHNK1ZrgaF3NXSdmNQF4JQMFMa+vewzWDBlE62Si0G7ei0Zd3AhCSle09L2Ca9NVFg2oBBeIJAhBe6CR6HO2BtQWEXVG46hkCEJr4NHonSPBIUSBbIEF4igCEWahkOn0voB45tbiAgOcIQGMMjx4qpZ7CDhfiH/cmPEcAqpFzOjoGNO5rxGbPuK8hhwHwJAEo5tQgimDiEmwqEjhIAs8SgGKe0rLrEP6352I0DHc4iMG4Vu1pAlDN0Lf8BE9c6uY38vHECM8TgCqDuoxDh0qaKa9vPFWOG7EWBAEICErpQkbvtUi1uh27WKnFDgQKhgCZYCvbu9dhHD8lS7yfOabW1hEoOAJQqDSOPzn8F6u2zuRhHcbCLVmQBCC4p7Z3/cvPSj+NTRq4oRaLCBQsASjeyW0d/RiFjNRrfit2ZVLALMJVfMUKmgBUHciZ4uH26L0Yc3Ahxty/XnxV5GxEBU+ADDyhti70GOoXgBCbMsfU2hyBoiEAhUrdx3gkfBXJJUvxopiXYWjmkHtLoqgIkIGWRiCh93AO9p/MHFPr7AgUJQEoVPQexjHMaqXOOX1Q+m/28NXRoiVApmorItHnQ8Ej52HWKpqp81DmuFoPI1D0BKAwWcu/B8Nt0fWYuHkm/vXz5zikMpCH69/KbJfpkgW4oombMQT7Fp/hnwX3N+JnZbhWAUY+tsvj4g4wOvwp23a8hfbBGvyV6+z0fH3j9o7g+Niz0eB7cT++uO5MrvNb0Ku0Bv5N9KKPoj7JDg5VBBiBLP3RY/JYcA0ajDfj8JkjThXMpiKADVVFs372xgJLMBfwN6Cu3gaVrqlQBLAZ6v3NC2bqWnIF2goroNqOqWNs9vBEdYoAJ+Jh615fw7y5nPkbOeM0+dN8/Dz3CFUEsLXKx1b23pIFlT6DfwFkuASPioshecbY0u6dUQRwD+sTLGGGsXMxxd9FuCd8Difod9YJAi7tKAK4BLSZmQMNF56d1Ic+gezV8/GcOA/y9JuNH00T49iiCOAYtLkrptnIYhXvn+0bZDMM5puh6/wczF8cQvd0OSakLoOFMmyX4S5SBuKUgTh0LDDC8hFs038SH0QeTD/KHMQE1f26xvrxB96p7XDJ0Yeo63tEGbVZyAgQaWgOQxDCcw3OQsZV+a4QUAgoBBQCCgGFgEJAIaAQUAgoBBQCCgGFgEJAIaAQUAgoBMYRAv8HBRTZTSjDwtIAAAAASUVORK5CYII="},37:function(e,t,i){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function a(e,t){return c.post("/team_users",e,t)}function r(e,t){return c.put("/team_users/update_member",e,t)}function o(e,t){return c.del("/team_users/quit",e,t)}function n(e,t){return c.del("/team_users/kick",e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createTeamUser=a,t.updateMember=r,t.deleteTeamUser=o,t.kickUser=n;var u=i(5),c=s(u)},55:function(e,t,i){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),o=a(r),n=i(6),u=s(n),c=i(37),l=s(c),d=i(4);t["default"]={vuex:{getters:{isLogged:function(e){return e.users.isLogged},token:function(e){return e.users.token},user:function(e){return e.users.user}},actions:{showToast:d.showToast}},data:function(){return{team:{users:[],owner:{}},isMember:!1,member:{},showNumberInput:!1,memberNumber:""}},route:{data:function(e){var t=this;u.getTeam(this.$route.params.tid).then(function(e){t.$set("team",e.team),t.team.users.forEach(function(e){e.id===t.user.id&&(t.$set("isMember",!0),t.$set("member",e))})})["catch"](function(e){t.showToast(e)})}},methods:{joinTeam:function(){var e=this;return this.isLogged?void l.createTeamUser({team_id:this.$route.params.tid},this.token).then(function(t){e.team.users.push(t.user),e.showToast("加入成功！"),e.$set("isMember",!0)})["catch"](function(t){console.log(t),e.showToast("加入失败！")}):void this.$route.router.go({name:"signin"})},quitTeam:function(){var e=this;return this.isLogged?void l.deleteTeamUser({team_id:this.$route.params.tid},this.token).then(function(t){e.team.users.$remove(t.user),e.$set("isMember",!1),e.showToast("退出成功！")})["catch"](function(t){console.log(t),e.showToast("退出失败！")}):void this.$route.router.go({name:"signin"})},kickUser:function(e){var t=this;return this.isOwner?this.isLogged?void l.kickUser({user_id:e.id,team_id:this.$route.params.tid},this.token).then(function(i){t.team.users.$remove(e),t.showToast("踢出成功！")})["catch"](function(e){console.log(e),t.showToast("踢出失败！")}):void this.$route.router.go({name:"signin"}):void this.showToast("你没有权限！")},clickNumberDialog:function(){this.showNumberInput=!this.showNumberInput,this.memberNumber=this.member.number},updateNumber:function(){var e=this;return this.isMember?this.isLogged?(l.updateMember({user_id:this.member.id,team_id:this.$route.params.tid,team_user:{number:this.memberNumber}},this.token).then(function(t){e.$set("member",t.user),e.showToast("更新成功！")})["catch"](function(t){console.log(t),e.showToast("更新失败！")}),void this.clickNumberDialog()):void this.$route.router.go({name:"signin"}):void this.showToast("你不是该队队员！")}},computed:{isOwner:function(){return this.team.owner.id===parseInt(this.user.id)}},components:{XHeader:o["default"]}}},80:function(e,t,i){t=e.exports=i(2)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"show.vue",sourceRoot:"webpack://"}])},96:function(e,t,i){var s=i(80);"string"==typeof s&&(s=[[e.id,s,""]]);i(3)(s,{});s.locals&&(e.exports=s.locals)},127:function(e,t,i){e.exports=' <x-header> {{team.name}} <a v-if=isOwner slot=right v-link="{name: \'teamsedit\'}"> 编辑 </a> </x-header> <div class=team_logo> <div class=logo> <img :src=team.logo alt=""/> </div> </div> <div class=weui_cells> <div class=weui_cell> <div class=weui_cell_hd> <i class="fa fa-at"></i> </div> <div class="weui_cell_bd weui_cell_primary"> <p style=padding-left:10px>{{team.name}}</p> </div> <div class=weui_cell_ft></div> </div> <div class=weui_cell> <div class=weui_cell_hd> <i class="fa fa-tag"></i> </div> <div class="weui_cell_bd weui_cell_primary"> <p style=padding-left:10px>{{team.sign}}</p> </div> <div class=weui_cell_ft></div> </div> <div class=weui_cell v-link="{name: \'teamsplayeds\'}"> <div class=weui_cell_hd> <i class="fa fa-calendar"></i> </div> <div class="weui_cell_bd weui_cell_primary"> <p style=padding-left:10px> {{ isLogged ? "查看本队赛程" : "查看该队赛程" }} </p> </div> <div class=weui_cell_ft></div> </div> </div> <div v-if="team.users.length <= 14 && !isMember" class=button_sp_area style="margin-top:20px;padding: 10px"> <a @click=joinTeam href=javascript:; class="weui_btn weui_btn_plain_primary">加入队伍</a> </div> <div v-if=isMember class=button_sp_area style="margin-top:20px;padding: 10px"> <a @click=quitTeam href=javascript:; class="weui_btn weui_btn_warn">退出队伍</a> </div> <div v-if=isMember class=button_sp_area style="padding: 10px"> <a @click=clickNumberDialog href=javascript:; class="weui_btn weui_btn_plain_primary"> {{ member.number === \'\' || member.number === null ? \'输入球衣号码\' : \'球衣号码：\' + member.number + \'号\' }} </a> </div> <div class="weui_panel weui_panel_access"> <div class=weui_panel_hd>{{team.name}}的球员：</div> <div class=weui_panel_bd> <a v-for="user in team.users" href=javascript:void(0); class="weui_media_box weui_media_appmsg"> <img v-if=isOwner @click=kickUser(user) src='+i(24)+' style="position: absolute;top:0px;right:0px;width:20px"/> <div class=weui_media_hd> <img class=weui_media_appmsg_thumb :src=user.avatar alt=""> </div> <div class=weui_media_bd> <h4 class=weui_media_title>{{user.name}}</h4> <p class=weui_media_desc>身高{{user.height}}CM、体重{{user.weight}}KG、擅长{{user.position}}</p> </div> </a> </div> </div> <div class=weui_dialog_confirm v-if=showNumberInput> <div class=weui_mask></div> <div class=weui_dialog> <div class=weui_dialog_hd><strong class=weui_dialog_title>输入球衣号码(数字)</strong></div> <div class=weui_dialog_bd> <input type=number v-model=memberNumber pattern=[0-9]* placeholder=请输入数字即可 /> </div> <div class=weui_dialog_ft> <a @click=clickNumberDialog href=javascript:; class="weui_btn_dialog default">取消</a> <a @click=updateNumber href=javascript:; class="weui_btn_dialog primary">确定</a> </div> </div> </div> '},144:function(e,t,i){var s,a;i(96),s=i(55),a=i(127),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)}});
//# sourceMappingURL=5.dba738d12e2988c4e89b.js.map